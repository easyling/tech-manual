Caching
-------

*Target Cache*: the Target cache option is used to achieve great boosts in page serving speed by enabling the proxy to skip processing the page instantly if the remote server’s response matches the response that was used to generate the cache during building. By not having to insert the translations separately, page serving can be accelerated by several milliseconds, which can add up to a noticeable speedup in the case of larger pages with lots of translated content.

The Target cache is built or overwritten every time a page is loaded through the proxy, with a few notable exceptions. The cache is not overwritten if the content served matches the content received (i.e. no processing was done on it), nor are entities larger than the hard-coded maximum entity size (960kb) saved. Furthermore, if a site changes its contents too fast (there are too many cache misses, i.e. the cached content differs from the actual), the Proxy will stop caching the given entity to prevent overusing the database. Should this happen, caches must be cleared manually to restore normal operation and reset the cache miss limit.

*Keep Cache*: the Keep cache is actually a serving mode of the Target cache, used mainly to prevent the *source language bleed-through effect*, or *Bleeding Effect* in short. It operates by checking the cached content’s translation ration against the remote server’s response. If the cached content is found to have a more complete translation (i.e. its translation ratio is higher), the remote response is discarded and the cached content is served instead. This does not mean an increase in page load speed, but by preventing yet-untranslated elements from appearing in the served page, the *Bleeding Effect* is eliminated entirely. As new translations are entered into the database, either manually or via XLIFF imports, the difference between the cached response and the actual response decreases, and the newly-translated elements are displayed automatically. Additionally, this check is run every time the source content is found.

*Source Cache*: the Source cache option records the entire response from the remote server, and forwards it to the client if the path prefixes entered in the text field match (an empty field means that the cached content is served regardless of path), and the page is not externalized. Since this only caches the remote server’s response, it is only capable of providing a smaller increase in serving speed (since processing still needs to be done on the response to create the translated page), it can be used to speed up loading of sites served from overloaded or outdated servers, and can also be used to mask changes on the remote server by supplying the cached response to the Proxy.

Unlike the Target cache, this cache is only built during crawling, and ***only*** if the appropriate options are selected (Build source cache checkbox in the Scan dialog or the Add Pages dialog). Furthermore, pages in question must not be excluded from the crawl to download and cache them, and content from third-party servers (such as content Delivery Networks (CDNs)) are not retained in the cache. Lastly, the same hard-coded limitation of 960kb applies here as well.

On the other hand, selecting the “Preserve & use existing cache” option in the Scan dialog instructs the Proxy to re-use the existing Source cache instead of renewing and overwriting it. When this option is checked, it becomes possible to use the Source cache as a version of the staging server, by continuously supplying the same remote server response to mask any changes done to the original site before a cache is rebuilt.

The cache information for each page can be queried individually by clicking the Cache button on the page’s row. This displays a dialog detailing the currently active caches, when they were generated, and allows the project owner to clear each cache separately for each page (useful for hunting down issues when the translated page doesn’t display a change recently made on the original).

With the 2015 December rollout of the Multicache feature, Easyling has gained the ability to use different caches in different proxy modes. There exists a default cache for both the Target and the Source cache, and the project owner can create up to five named caches for each mode. These caches can be renamed at will, and their contents purged, but cannot be deleted.

