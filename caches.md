# Caching

Easyling operates several caching mechanisms, saving either the source or the target content. All of these are tied to individual project settings, and are not active by default.

+ *Target Cache*: the Target cache is active on the live serving domain, and caches the output of the `Translator`, along with the hash of the source content and the percentage of completed translations. It is used to accelerate page serving time by skipping translation entirely: if the Target cache is on, the entity is loaded at the start of translation, and the source content hash is compared to the hash stored by the entity. If matching, the contents of the entity are written into the response and the `Translator` returns without processing the source content further. If the hashes do not match, translation proceeds as usual, and the resulting target content is written back out into the entity, replacing the previous contents.  
The Target cache is built or overwritten every time a page is loaded through the proxy on the live serving domain, with a few notable exceptions: the cache is not overwritten if the content served matches the content received (i.e. no processing was done on it), nor are entities larger than the hard-coded maximum entity size (960kb) saved. Furthermore, if a site changes its contents too fast (there are too many cache misses, i.e. the cached content differs from the actual), the Proxy will stop caching the given entity to prevent overusing the database. Should this happen, caches must be cleared manually to restore normal operation and reset the cache miss limit.  
Since the Target Cache will skip document translation, it will prevent newly-written translations or page modifiers from appearing on the live site until cleared!  
    - *Keep Cache Serving Strategy*: the Keep Cache option alters the Target Cache's operation by forcing the `Translator` to always use the cache, if an entity can be loaded, regardless of the source content hashes. With the option active, the cache is automatically overwritten if the translation results in an increase in the translation ratio, but once a drop is detected, the `Translator` begins to serve the cached entity, regardless of changes. This "freezes" the target content in place and prevents any new source content from appearing on the target site.
+ *Source Cache*: the Source cache option records the entire response from the remote server, and forwards it to the client if the path prefixes entered in the text field match (an empty field means that the cached content is served regardless of path), and the page is not externalized. Since this only caches the remote server’s response, it is only capable of providing a smaller increase in serving speed (since processing still needs to be done on the response to create the translated page), it can be used to speed up loading of sites served from overloaded or outdated servers, and can also be used to mask changes on the remote server by supplying the cached response to the Proxy.  
Unlike the Target cache, this cache is only built during crawling, and ***only*** if the appropriate options are selected (Build source cache checkbox in the Scan dialog or the Add Pages dialog). Furthermore, pages in question must not be excluded from the crawl to download and cache them, and content from third-party servers (such as content Delivery Networks (CDNs)) are not retained in the cache. Lastly, the same hard-coded limitation of 960kb applies here as well. On the other hand, selecting the “Preserve & use existing cache” option in the Scan dialog instructs the Proxy to re-use the existing Source cache instead of renewing and overwriting it. When this option is checked, it becomes possible to use the Source cache as a version of the staging server, by continuously supplying the same remote server response to mask any changes done to the original site before a cache is rebuilt.

The cache information for each page can be queried individually by clicking the Cache button on the page’s row. This displays a dialog detailing the currently active caches, when they were generated, and allows the project owner to clear each cache separately for each page (useful for hunting down issues when the translated page doesn’t display a change recently made on the original).

With the 2015 December rollout of the Multicache feature, the Proxy Application has gained the ability to use different caches in different proxy modes. There exists a default cache for both the Target and the Source cache, and the project owner can create up to five named caches for each mode. These caches can be renamed at will, and their contents purged, but *cannot* be deleted.
